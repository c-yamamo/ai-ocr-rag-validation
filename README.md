# Operational AI Pipeline Validation with OCR × RAG × LLM
（業務文書処理を想定した・制御型 生成AIパイプライン検証）

---

## 1. 概要（Overview）

本プロジェクトは、**OCR・RAG・LLM を組み合わせた生成AIパイプラインの設計・検証** を目的とした個人ポートフォリオです。

単なる精度検証や学習用途ではなく、

- マネージドOCR APIを前提とした構成
- AIの失敗を想定した前処理・制御設計
- 業務システムとして「止められる・戻せる」運用視点

を重視しています。

## Why Validation?

OCR・RAG・LLM といった要素技術が動作するかを確認する PoC は、すでに一般化しています。  
本プロジェクトでは業務利用を想定し、入力品質のばらつきや失敗時の挙動も含めて、  
AI パイプラインとして成立するかという妥当性（Validation）に焦点を当てています。

---

## 2. 想定ユースケース

本検証では、**同一のAIパイプライン**を用いて、  
性質の異なる業務文書に対する適用可能性を検証します。

### ユースケース1：日本語帳票（申請書）

官公庁や企業内申請業務を想定し、  
申請書（PDF / 画像）を対象に以下を検証します。

- 必須項目が充足しているか
- 未記入・記載不備が存在しないか
- 受付可能かどうかの一次判断

入力は、スキャナでPDF化された文書、  
またはカメラで撮影された画像を想定しています。

---

### ユースケース2：経費精算用領収証（交通費・一般経費）

企業の経費精算業務を想定し、  
新幹線・タクシー・飲食等の領収証（レシート）を対象に以下を検証します。

- 日付・金額・発行元の取得可否
- 経費区分（交通費・会議費 等）の一次仕分け
- 経費計上可否の一次判断

入力は、スマートフォンで撮影された画像、  
またはスキャナでPDF化された文書を想定しています。

---

## 3. 全体アーキテクチャ

```text
[ PDF / PNG ]
      ↓
[ OCR API ]
      ↓
[ テキスト保存・前処理 ]
      ↓
[ Embedding 生成 ]
      ↓
[ Vector DB / RAG ]
      ↓
[ LLM 評価・判断 ]
      ↓
[ 制御ロジック ]
  ├ 再実行
  ├ 停止
  └ 人手引き渡し
```
※ 図は後日差し替え予定

---
## 4. 技術構成（予定）

### OCR
- マネージドOCR APIを利用  
  （例：Google Vision / Azure Form Recognizer / Amazon Textract）
- 日本語業務文書への対応実績を重視

### LLM
- APIベースで利用
- 文章生成用途ではなく **評価・判断用途** に限定

### Embedding / Vector DB
- Embedding：API利用
- Vector DB：FAISS / Chroma  
  （検証用途のため構成を簡素化）

---

## 5. 処理フロー概要

1. 文書（PDF / 画像）を入力
2. OCR によりテキスト化
3. 前処理（ノイズ除去・項目抽出）
4. Embedding 生成
5. Vector DB への登録・検索（RAG）
6. LLM による評価・判断
7. 判定結果に応じた制御

---

## 6. 前処理・失敗ケース設計

本システムでは、**AIの出力をそのまま信頼しない設計**を前提としています。

想定している失敗ケース：

- OCR結果が空、または極端に短い
- 文字化けや意味不明な文章が多数含まれる
- 業務上必須となる項目が取得できない

これらを検知し、後段処理へ進めない／再処理する制御を行います。

---

## 7. LLMによる評価・判断

LLMは文章生成ではなく、**判断装置**として利用します。

- 文書として十分な情報量があるか
- 業務処理に耐えうる内容か
- 再処理・人手確認が必要か

判定結果は Yes / No 形式で返却し、制御ロジックに連携します。

---

## 8. 制御ロジック設計

- 再実行回数の上限設定
- 無限ループ防止
- 人手引き渡しフラグの出力

インフラ運用経験を活かし、  
**AIパイプラインを「止められるシステム」として設計**しています。

---

## 9. 位置づけ

本プロジェクトは、  
**生成AI案件における設計・検証スキルのポートフォリオ**として位置づけています。

---

## 10. Author

  * GitHub: c-yamamo
  * Role: Infrastructure Engineer / AI System Validation


  
